*&---------------------------------------------------------------------*
*&  包含                Z_ALV_01_TOP01
*&---------------------------------------------------------------------*


TABLES :VBAK,VBAP.



*设置ALV 展示数据

TYPES : BEGIN OF GTY_DATA,
  CB(1) TYPE C,
  VBELN TYPE VBAK-VBELN,
  POSNR TYPE VBAP-POSNR,
  AUART TYPE VBAK-AUART,
  VKORG TYPE VBAK-VKORG,
  VTEXT TYPE TVKOT-VTEXT,
  VTWEG TYPE VBAK-VTWEG,
  SPART TYPE VBAK-SPART,
  VKGRP TYPE VBAK-VKGRP,
  VKBUR TYPE VBAK-VKBUR,
  VDATU TYPE VBAK-VDATU,
  KUNNR TYPE VBAK-KUNNR,"售达方
  MATNR TYPE VBAP-MATNR,
  MAKTX TYPE MAKT-MAKTX,
  MEINS TYPE VBAP-MEINS,
  NETWR TYPE VBAP-NETWR,
  KWMENG TYPE VBAP-KWMENG,
  BRGEW TYPE VBAP-BRGEW,
  NTGEW TYPE VBAP-NTGEW,
  GEWEI TYPE VBAP-GEWEI,
  WERKS TYPE VBAP-WERKS,
  END OF GTY_DATA.


DATA :  GS_DATA TYPE GTY_DATA,
        GT_DATA TYPE STANDARD TABLE OF GTY_DATA,
        GT_DATA_TEMP TYPE STANDARD TABLE OF GTY_DATA.



FIELD-SYMBOLS :<FS> TYPE GTY_DATA.


* 获取物料描述

TYPES : BEGIN OF GTY_MATNR,
  MATNR TYPE MAKT-MATNR,
  MAKTX TYPE MAKT-MAKTX,
  END OF GTY_MATNR.

DATA : GS_MATNR TYPE GTY_MATNR,
       GT_MATNR TYPE HASHED TABLE OF GTY_MATNR WITH UNIQUE KEY MATNR.


*获取销售组织描述
TYPES : BEGIN OF GTY_TVKOT,
    VKORG TYPE VKORG,
    VTEXT TYPE VTEXT,
  END OF GTY_TVKOT.

DATA : GS_TVKOT TYPE GTY_TVKOT,
       GT_TVKOT  TYPE HASHED TABLE OF GTY_TVKOT WITH UNIQUE KEY VKORG.




* 设置layout

DATA : GS_LAYOUT TYPE SLIS_LAYOUT_ALV.



*设置fcat

DATA : GT_FCAT TYPE SLIS_T_FIELDCAT_ALV,
       GS_FCAT TYPE SLIS_FIELDCAT_ALV.

*smartform

DATA :GV_SSF_NAME TYPE RS38L_FNAM.


DATA : GS_HEADER TYPE VBAK,
       GT_ITEM TYPE STANDARD TABLE OF VBAP.


*选择屏幕


SELECT-OPTIONS : P_VKORG FOR VBAK-VKORG.