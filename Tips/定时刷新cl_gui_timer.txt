REPORT Z_LEARN_OO_TIMER.

CLASS LCL_EVENT_HANDLER DEFINITION.
  PUBLIC SECTION.
    CLASS-METHODS: ON_FINISHED FOR EVENT FINISHED OF CL_GUI_TIMER      IMPORTING SENDER.
ENDCLASS.

CLASS LCL_EVENT_HANDLER IMPLEMENTATION.
  METHOD ON_FINISHED.
    STATICS: LTP_REFRESHED TYPE I.
    ADD 1 TO LTP_REFRESHED.
    WRITE:  'Refresh number:',    LTP_REFRESHED.
*START TIMER
    SENDER->RUN( ).
  ENDMETHOD.
ENDCLASS.

DATA: RF_GUI_TIMER TYPE REF TO CL_GUI_TIMER.

PARAMETERS: PA_REFRS TYPE I DEFAULT 10.

START-OF-SELECTION.

  CREATE OBJECT RF_GUI_TIMER.
  SET HANDLER LCL_EVENT_HANDLER=>ON_FINISHED FOR RF_GUI_TIMER.
*  SETTING THE REFRESHMENT INTERVAL.
  RF_GUI_TIMER->INTERVAL = PA_REFRS.
  RF_GUI_TIMER->RUN(  ).
*  THE SESSION MUST REMAIN ACTIVE!
  WRITE 'Wait for a while:'.